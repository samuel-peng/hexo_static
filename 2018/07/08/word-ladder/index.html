<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  
  <title>Word Ladder | Samuel Peng</title>
  <meta name="description" content="" />
  <meta name="keywords" content="" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <link rel="shortcut icon" href="/blog/favicon.ico">
  <link rel="alternate" href="/blog/atom.xml" title="Samuel Peng">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="You know it, the classic word ladder problem. It turns out to be part 1 of my second assignment at Stanford&amp;nbsp;University.For those of you who don’t know about word ladder (I doubt there is any), he">
<meta name="keywords" content="C++,BFS,Classic,Stanford">
<meta property="og:type" content="article">
<meta property="og:title" content="Word Ladder">
<meta property="og:url" content="http://samuelpeng.com/blog/2018/07/08/word-ladder/index.html">
<meta property="og:site_name" content="Samuel Peng">
<meta property="og:description" content="You know it, the classic word ladder problem. It turns out to be part 1 of my second assignment at Stanford&amp;nbsp;University.For those of you who don’t know about word ladder (I doubt there is any), he">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2018-07-10T18:33:37.230Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Word Ladder">
<meta name="twitter:description" content="You know it, the classic word ladder problem. It turns out to be part 1 of my second assignment at Stanford&amp;nbsp;University.For those of you who don’t know about word ladder (I doubt there is any), he">
    
  <link href="https://fonts.googleapis.com/css?family=Inconsolata|Titillium+Web" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Roboto+Mono" rel="stylesheet">
  <link href='//cdn.bootcss.com/node-waves/0.7.5/waves.min.css' rel='stylesheet'>
  <link rel="stylesheet" href="/blog/style.css">
  <script>
    function setLoadingBarProgress(num) {
      document.getElementById('loading-bar').style.width=num+"%";
    }
  </script>
</head>

<body>
  <div id="loading-bar-wrapper">
  <div id="loading-bar"></div>
</div>


  <script>setLoadingBarProgress(20)</script> 
  <header class="l_header">
	<div class='wrapper'>
		<div class="nav-main container container--flex">
			<a class="logo flat-box" href='/blog/' >
				Samuel Peng
			</a>
			<div class='menu'>
				<ul class='h-list'>
					
						<li>
							<a class='flat-box nav-home' href='/blog/'>
								Home
							</a>
						</li>
					
						<li>
							<a class='flat-box nav-archives' href='/blog/archives'>
								Archives
							</a>
						</li>
					
						<li>
							<a class='flat-box nav-gallery' href='https://instagram.com/samueljpeng/'>
								Gallery
							</a>
						</li>
					
						<li>
							<a class='flat-box nav-about' href='/blog/about'>
								About
							</a>
						</li>
					
						<li>
							<a class='flat-box nav-main' href='http://samuelpeng.com/'>
								samuelpeng.com
							</a>
						</li>
					
				</ul>
				<div class='underline'></div>
			</div>
			
				<div class="m_search">
					<form name="searchform" class="form u-search-form">
						<input type="text" class="input u-search-input" placeholder="Search" />
						<span class="icon icon-search"></span>
					</form>
				</div>
			
			<ul class='switcher h-list'>
				
					<li class='s-search'><a href='javascript:void(0)'><span class="icon icon-search flat-box"></span></a></li>
				
				<li class='s-menu'><a href='javascript:void(0)'><span class="icon icon-menu flat-box"></span></a></li>
			</ul>
		</div>
		
		<div class='nav-sub container container--flex'>
			<a class="logo" class="flat-box" href='javascript:void(0)'>
				Word of Forks
			</a>

			<ul class='switcher h-list'>
				<li class='s-comment'><a href='javascript:void(0)'><span class="icon icon-chat_bubble_outline flat-box"></span></a></li>
				<li class='s-top'><a href='javascript:void(0)'><span class="icon icon-arrow_upward flat-box"></span></a></li>
				<li class='s-toc'><a href='javascript:void(0)'><span class="icon icon-format_list_numbered flat-box"></span></a></li>
			</ul>
		</div>
	</div>
</header>
<aside class="menu-phone">
	<nav>
		
			<a href="/blog/" class="nav-home nav">
				Home
			</a>
		
			<a href="/blog/archives" class="nav-archives nav">
				Archives
			</a>
		
			<a href="https://instagram.com/samueljpeng/" class="nav-gallery nav">
				Gallery
			</a>
		
			<a href="/blog/about" class="nav-about nav">
				About
			</a>
		
			<a href="http://samuelpeng.com/" class="nav-main nav">
				samuelpeng.com
			</a>
		
	</nav>
</aside>

    <script>setLoadingBarProgress(40);</script>
  <div class="l_body">
    <div class='container clearfix'>
      <div class='l_main'>
        <article id="post-word-ladder"
  class="post white-box article-type-post"
  itemscope itemprop="blogPost">
	<section class='meta'>
	<h2 class="title">
  	<a href="/blog/2018/07/08/word-ladder/">
    	Word Ladder
    </a>
  </h2>
	<time>
	  Jul 7, 2018
	</time>
	
    
    <div class='cats'>
        <a href="/blog/categories/Programming/">Programming</a>
    </div>

	</section>
	
		<section class="toc-wrapper"></section>
	
	<section class="article typo">
  	<div class="article-entry" itemprop="articleBody">
    	<p>You know it, the classic word ladder problem. It turns out to be part 1 of my second assignment at <span style="color: red; font-weight: bold;">Stanford&nbsp;University</span>.<br>For those of you who don’t know about word ladder (I doubt there is any), here’s a condensed version of the problem description.</p>
<blockquote>
<p><code>Input</code>: a dictionary file and two words.<br><code>Objective</code>: find a path to go from the first word to the second, by changing one letter each time.<br><code>Output</code>: the path from word 1 to word two.</p>
</blockquote>
<p>Simple enough. However, the problem requires the program <em>not</em> to use <strong>recursion</strong> but use <strong>BFS</strong> to accomplish such task.<br>It’s a fairly easy problem, and the pseudocode was even given to us:</p>
<blockquote>
<p>to find a path from word 1 to word 2:<br>&nbsp;&nbsp;&nbsp;&nbsp;create a queue of stacks, initially containing only a single stack storing {word 1}.<br>&nbsp;&nbsp;&nbsp;&nbsp;loop until queue is empty (can’t find the path) or word 2 is found:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dequeue a stack s.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for each valid unused English word w that differs by 1 letter of the word on top of s<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;create a new stack s2 whose contents are s + w added on top<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add s2 to the queue</p>
</blockquote>
<p>However, there is a pretty serious issue to consider with this problem, and that is the size of the dictionary. The dictionary file contains nearly .27 million words in it. Although efficient data types will be used to handle them, the fact that there are so many possible “next words” for each word is frightening. The queue that stores the stacks builds up too quickly that the memory it needs can’t be ignored.</p>
<p>With only a 5-letter word example that should take merely 9 steps to finish, I get an error message:</p>
<p><code>A C++ exception occurred during program execution:<br>std::bad_alloc<br><br>Stack trace:<br>vector.h         Vector::operator=(Vector const&amp;)<br>queue.h          Queue::expandRingBufferCapacity()<br>queue.h          Queue::enqueue(Stack const&amp;)<br>wordladder.cpp   game(Set const&amp;, string, string)<br>wordladder.cpp   interact()<br>wordladder.cpp   main()<br></code></p>
<p>It appears that while trying to expand <code>RingBufferCapacity</code>, the memory decided that there’s not enough usable memory to allocate for my program, therefore it shut down.</p>
<p>Instead of blaming my computer, which is not crappy at all considering the fact that it has 16 GB of memory, for not having enough memory to run this program, I decided to look into the codes and see if there’s any way to optimize it so that it won’t ask for that much memory.</p>
<p>It’s not so hard to realize that taking a humongous amount of memory is one of the characteristics of the BFS algorithm. Then the problem comes to how to alter the BFS algorithm to make it cost less memory, and two of the basic ways to optimize BFS are: <strong><em>tracking visited nodes</em></strong> and <strong><em>bidirectional BFS</em></strong>.</p>
<p>For bidirectional BFS, its method is pretty obvious considering it has a straightforward name. BFS from both sides. When the two words are given, the program use BFS to search from both the word 1 side and the word 2 side, level by level. When they find a word in common, the shortest path has been found. You can try to visually imagine how much memory and time this is going to save, and it <strong>does</strong> save both significantly.</p>
<p>For tracking visited node, it’s also simple enough. Create a Set to store all the visited words, and add the word into the Set each time when a new &amp; valid word is generated and about to be pushed into the queue.</p>
<p>Woo-Hoo! Problem solved! </p>
<hr>
<p>The code is attached down below, however, <span style="color:red;"><strong>Stanford Honor Code</strong></span> does strictly forbid looking at others’ codes. If this is your homework problem, now you know my approach. Try write it out yourself! If you can’t figure it out, go to office hours! Just <strong>DO <span style="color:red;">NOT</span> LOOK AT THE CODE</strong> if you’re taking the class.</p>
<p>Cheers~</p>
<details><summary>See the code here</summary><br><p><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"filelib.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"set.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"queue.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"stack.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"simpio.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"console.h"</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line">Set&lt;<span class="built_in">string</span>&gt; dict; <span class="comment">//Saving all words from dictionary</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">welcomePrint</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">oneStep</span><span class="params">(<span class="keyword">const</span> Set&lt;<span class="built_in">string</span>&gt; &amp;dic, <span class="keyword">const</span> <span class="built_in">string</span> &amp;str)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">dictCheck</span><span class="params">(<span class="keyword">const</span> Set&lt;<span class="built_in">string</span>&gt; &amp;dict, <span class="keyword">const</span> <span class="built_in">string</span> &amp;from, <span class="keyword">const</span> <span class="built_in">string</span> &amp;to)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">wordCheck</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span> &amp;from, <span class="keyword">const</span> <span class="built_in">string</span> &amp;to)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">generateLadder</span><span class="params">(Queue&lt;Stack&lt;<span class="built_in">string</span>&gt;&gt; &amp;revSolve, Stack&lt;<span class="built_in">string</span>&gt; &amp;cur, <span class="keyword">const</span> <span class="built_in">string</span> &amp;midWord, <span class="built_in">string</span> &amp;ladder, <span class="keyword">bool</span> side)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">BFS</span><span class="params">(<span class="keyword">const</span> Set&lt;<span class="built_in">string</span>&gt; &amp;dictionary, Queue&lt;Stack&lt;<span class="built_in">string</span>&gt;&gt; &amp;solve, Queue&lt;Stack&lt;<span class="built_in">string</span>&gt;&gt; &amp;rSolve, Set&lt;<span class="built_in">string</span>&gt; &amp;level, <span class="built_in">string</span> &amp;ladder, <span class="keyword">bool</span> side)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">game</span><span class="params">(<span class="keyword">const</span> Set&lt;<span class="built_in">string</span>&gt; &amp;dic, <span class="keyword">const</span> <span class="built_in">string</span> &amp;from, <span class="keyword">const</span> <span class="built_in">string</span> &amp;to)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">file_read</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">interact</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    welcomePrint();</span><br><span class="line"></span><br><span class="line">    file_read();</span><br><span class="line"></span><br><span class="line">    interact();</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"Have a nice day."</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">welcomePrint</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">//Printing the welcome information</span></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"Welcome to CS 106B/X Word Ladder!"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"Please give me two English words, and I will convert the"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"first into the second by modifying one letter at a time."</span> &lt;&lt; <span class="built_in">endl</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">oneStep</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span> &amp;str)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//Listing all possible 'nextWords'</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> c = <span class="number">0</span> ; c &lt; str.length() ; c++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> a = <span class="number">97</span> ; a &lt; <span class="number">123</span> ; a++) &#123;</span><br><span class="line">            <span class="built_in">string</span> newWord = str;</span><br><span class="line">            newWord.replace(c, <span class="number">1</span>, <span class="number">1</span>, <span class="keyword">char</span>(a));</span><br><span class="line">            <span class="comment">//replacing the c-th character of the word to char(a) (by ascii)</span></span><br><span class="line">            <span class="keyword">if</span>(dict.contains(newWord)) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//Consider inserting a letter legal.</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> c = <span class="number">0</span> ; c &lt;= str.length() ; c++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> a = <span class="number">97</span> ; a &lt; <span class="number">123</span> ; a++) &#123;</span><br><span class="line">            <span class="built_in">string</span> newWord = str;</span><br><span class="line">            newWord.insert(c, <span class="number">1</span>, <span class="keyword">char</span>(a));</span><br><span class="line">            <span class="comment">//inserting at the c-th character of the word, char(a) (by ascii)</span></span><br><span class="line">            <span class="keyword">if</span>(dict.contains(newWord)) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//Consider deleting a letter legal.</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> c = <span class="number">0</span> ; c &lt; str.length() ; c++) &#123;</span><br><span class="line">        <span class="built_in">string</span> newWord = str;</span><br><span class="line">        newWord.erase(c, <span class="number">1</span>);</span><br><span class="line">        <span class="comment">//deleting the c-th character of the word</span></span><br><span class="line">        <span class="keyword">if</span>(dict.contains(newWord)) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">dictCheck</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span> &amp;from, <span class="keyword">const</span> <span class="built_in">string</span> &amp;to)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//return true if either or both words is more than one step from dictionary word</span></span><br><span class="line">    <span class="keyword">return</span> !((oneStep(from) || dict.contains(from)) &amp;&amp; (oneStep(to) || dict.contains(to)));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">wordCheck</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span> &amp;from, <span class="keyword">const</span> <span class="built_in">string</span> &amp;to)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//return true if both words are the same</span></span><br><span class="line">    <span class="keyword">return</span> from == to;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">generateLadder</span><span class="params">(Queue&lt;Stack&lt;<span class="built_in">string</span>&gt;&gt; &amp;revSolve, Stack&lt;<span class="built_in">string</span>&gt; &amp;cur, <span class="keyword">const</span> <span class="built_in">string</span> &amp;midWord, <span class="built_in">string</span> &amp;ladder, <span class="keyword">bool</span> side)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//Generate the string 'ladder' to print out</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (side) &#123;</span><br><span class="line">        <span class="comment">//Ladder found with solveFront &amp; toLevel</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//Add the front part (word 1 side) to 'ladder'</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="built_in">string</span> path : cur) &#123;</span><br><span class="line">            ladder += path;</span><br><span class="line">            ladder += <span class="string">" "</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//Add the second part (word 2 side) to 'ladder'</span></span><br><span class="line">        <span class="keyword">for</span>(Stack&lt;<span class="built_in">string</span>&gt; item : revSolve) &#123;</span><br><span class="line">            <span class="keyword">if</span>(item.peek() == midWord) &#123;</span><br><span class="line">                Stack&lt;<span class="built_in">string</span>&gt; reverse;</span><br><span class="line">                <span class="keyword">int</span> stackSize = item.size();</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> loc = <span class="number">0</span> ; loc &lt; stackSize ; loc++) &#123;</span><br><span class="line">                    reverse.push(item.pop());</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">for</span> (<span class="built_in">string</span> str : reverse) &#123;</span><br><span class="line">                    ladder += str;</span><br><span class="line">                    ladder += <span class="string">" "</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">//Ladder found with solveTo &amp; fromLevel</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//Add the front part (word 1 side) to 'ladder'</span></span><br><span class="line">        <span class="keyword">for</span>(Stack&lt;<span class="built_in">string</span>&gt; item : revSolve) &#123;</span><br><span class="line">            <span class="keyword">if</span>(item.peek() == midWord) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="built_in">string</span> str : item) &#123;</span><br><span class="line">                    ladder += str;</span><br><span class="line">                    ladder += <span class="string">" "</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//Generate the string for the second part (word 2 side)</span></span><br><span class="line">        <span class="built_in">string</span> halfResult;</span><br><span class="line">        <span class="keyword">for</span>(<span class="built_in">string</span> path : cur) &#123;</span><br><span class="line">            halfResult = path + <span class="string">" "</span> + halfResult;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        ladder += halfResult;<span class="comment">//Combine two parts to 'ladder'</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">BFS</span><span class="params">(Queue&lt;Stack&lt;<span class="built_in">string</span>&gt;&gt; &amp;solve, Queue&lt;Stack&lt;<span class="built_in">string</span>&gt;&gt; &amp;rSolve, Set&lt;<span class="built_in">string</span>&gt; &amp;myLevel, Set&lt;<span class="built_in">string</span>&gt; &amp;level, <span class="built_in">string</span> &amp;ladder, <span class="keyword">bool</span> side)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//Breadth-First Search function of the given side</span></span><br><span class="line"></span><br><span class="line">    Stack&lt;<span class="built_in">string</span>&gt; current = solve.dequeue(); <span class="comment">//Get item from Queue</span></span><br><span class="line">    <span class="built_in">string</span> lastWord = current.peek(); <span class="comment">//Peek the top word of the current Stack</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//Listing all possible 'nextWords'</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> c = <span class="number">0</span> ; c &lt; lastWord.length() ; c++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> a = <span class="number">97</span> ; a &lt; <span class="number">123</span> ; a++) &#123;</span><br><span class="line">            <span class="built_in">string</span> newWord = lastWord;</span><br><span class="line">            newWord.replace(c, <span class="number">1</span>, <span class="number">1</span>, <span class="keyword">char</span>(a));</span><br><span class="line">            <span class="comment">//replacing the c-th character of the word to char(a) (by ascii)</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(dict.contains(newWord) &amp;&amp; !myLevel.contains(newWord)) &#123;</span><br><span class="line">                <span class="comment">//new word is a valid word</span></span><br><span class="line">                <span class="keyword">if</span> (level.contains(newWord)) &#123;</span><br><span class="line">                    <span class="comment">//shortest ladder found</span></span><br><span class="line">                    generateLadder(rSolve, current, newWord, ladder, side);</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                current.push(newWord); <span class="comment">//Add the valid word to the current stack</span></span><br><span class="line">                myLevel.add(newWord); <span class="comment">//Add the valid word to 'visited' set</span></span><br><span class="line">                solve.enqueue(current); <span class="comment">//Add the stack back into the back of the queue</span></span><br><span class="line">                current.pop(); <span class="comment">//Remove the word from the stack</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//Consider inserting a letter legal.</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> c = <span class="number">0</span> ; c &lt;= lastWord.length() ; c++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> a = <span class="number">97</span> ; a &lt; <span class="number">123</span> ; a++) &#123;</span><br><span class="line">            <span class="built_in">string</span> newWord = lastWord;</span><br><span class="line">            newWord.insert(c, <span class="number">1</span>, <span class="keyword">char</span>(a));</span><br><span class="line">            <span class="comment">//inserting at the c-th character of the word, char(a) (by ascii)</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(dict.contains(newWord) &amp;&amp; !myLevel.contains(newWord)) &#123;</span><br><span class="line">                <span class="comment">//new word is a valid word</span></span><br><span class="line">                <span class="keyword">if</span> (level.contains(newWord)) &#123;</span><br><span class="line">                    <span class="comment">//shortest ladder found</span></span><br><span class="line">                    generateLadder(rSolve, current, newWord, ladder, side);</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                current.push(newWord); <span class="comment">//Add the valid word to the current stack</span></span><br><span class="line">                solve.enqueue(current); <span class="comment">//Add the stack back into the back of the queue</span></span><br><span class="line">                current.pop(); <span class="comment">//Remove the word from the stack</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//Consider deleting a letter legal.</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> c = <span class="number">0</span> ; c &lt; lastWord.length() ; c++) &#123;</span><br><span class="line">        <span class="built_in">string</span> newWord = lastWord;</span><br><span class="line">        newWord.erase(c, <span class="number">1</span>);</span><br><span class="line">        <span class="comment">//deleting the c-th character of the word</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(dict.contains(newWord) &amp;&amp; !myLevel.contains(newWord)) &#123;</span><br><span class="line">            <span class="comment">//new word is a valid word</span></span><br><span class="line">            <span class="keyword">if</span> (level.contains(newWord)) &#123;</span><br><span class="line">                <span class="comment">//shortest ladder found</span></span><br><span class="line">                generateLadder(rSolve, current, newWord, ladder, side);</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            current.push(newWord); <span class="comment">//Add the valid word to the current stack</span></span><br><span class="line">            solve.enqueue(current); <span class="comment">//Add the stack back into the back of the queue</span></span><br><span class="line">            current.pop(); <span class="comment">//Remove the word from the stack</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">game</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span> &amp;from, <span class="keyword">const</span> <span class="built_in">string</span> &amp;to)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//The function that does the main calculations</span></span><br><span class="line"></span><br><span class="line">    Queue&lt;Stack&lt;<span class="built_in">string</span>&gt;&gt; solveFrom; <span class="comment">//Stores the information for the word 1 side</span></span><br><span class="line">    Queue&lt;Stack&lt;<span class="built_in">string</span>&gt;&gt; solveTo; <span class="comment">//Stores the information for the word 2 side</span></span><br><span class="line">    Set&lt;<span class="built_in">string</span>&gt; fromLevel = &#123;to&#125;, toLevel = &#123;from&#125;; <span class="comment">//Stores the words visited by each side</span></span><br><span class="line">    <span class="built_in">string</span> ladder = <span class="string">""</span>; <span class="comment">//The result string to return</span></span><br><span class="line"></span><br><span class="line">    solveFrom.add(&#123;to&#125;); <span class="comment">//Initialize</span></span><br><span class="line">    solveTo.add(&#123;from&#125;); <span class="comment">//Initialize</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(!solveFrom.isEmpty() &amp;&amp; !solveTo.isEmpty())&#123;</span><br><span class="line">        <span class="comment">//Search from word 1 side</span></span><br><span class="line">        BFS(solveFrom, solveTo, fromLevel, toLevel, ladder, <span class="literal">true</span>);</span><br><span class="line">        <span class="keyword">if</span>(ladder != <span class="string">""</span>) <span class="keyword">return</span> ladder; <span class="comment">//Ladder found</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//Search from word 2 side</span></span><br><span class="line">        BFS(solveTo, solveFrom, toLevel, fromLevel, ladder, <span class="literal">false</span>);</span><br><span class="line">        <span class="keyword">if</span>(ladder != <span class="string">""</span>) <span class="keyword">return</span> ladder; <span class="comment">//Ladder found</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"NA"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">file_read</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">//Read dictionary file</span></span><br><span class="line"></span><br><span class="line">    ifstream infile;</span><br><span class="line">    promptUserForFile(infile, <span class="string">"Dictionary file name: "</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">string</span> dictWord;</span><br><span class="line">    <span class="keyword">while</span>(getline(infile, dictWord)) &#123;</span><br><span class="line">        dict.add(dictWord);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    infile.close();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">interact</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">//For interaction. Calls the calculation function.</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="built_in">string</span> fromWord, toWord;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">        fromWord = getLine(<span class="string">"Word 1 (or Enter to quit): "</span>);</span><br><span class="line">        <span class="keyword">if</span> (fromWord == <span class="string">""</span>) <span class="keyword">break</span>;</span><br><span class="line">        transform(fromWord.begin(), fromWord.end(), fromWord.begin(), ::<span class="built_in">tolower</span>);</span><br><span class="line"></span><br><span class="line">        toWord = getLine(<span class="string">"Word 2 (or Enter to quit): "</span>);</span><br><span class="line">        <span class="keyword">if</span> (toWord == <span class="string">""</span>) <span class="keyword">break</span>;</span><br><span class="line">        transform(toWord.begin(), toWord.end(), toWord.begin(), ::<span class="built_in">tolower</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (dictCheck(fromWord, toWord)) &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"The two words must be found in the dictionary, or one step from a dictionary word."</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (wordCheck(fromWord, toWord)) &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"The two words must be different."</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="built_in">string</span> gameResult = game(fromWord, toWord);</span><br><span class="line">            <span class="keyword">if</span> (gameResult == <span class="string">"NA"</span>) &#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"No word ladder found from "</span> &lt;&lt; toWord &lt;&lt; <span class="string">" back to "</span> &lt;&lt; fromWord &lt;&lt; <span class="string">"."</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">//cout &lt;&lt; "Step 1 Done" &lt;&lt; endl;</span></span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"A ladder from "</span> &lt;&lt; toWord &lt;&lt; <span class="string">" back to "</span> &lt;&lt; fromWord &lt;&lt; <span class="string">":"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; gameResult &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><br></p><br></details>

  	</div>
	  
	  <div class="article-tags tags">
      
        <a href="/blog/tags/C/">C++</a>
      
        <a href="/blog/tags/BFS/">BFS</a>
      
        <a href="/blog/tags/Classic/">Classic</a>
      
        <a href="/blog/tags/Stanford/">Stanford</a>
      
	  </div>
    
		
	
	</section>
	
</article>
<script>
	window.subData = {
		title: 'Word Ladder',
		tools: true
	}
</script>

      </div>
      <aside class='l_side'>
        
  <section class='m_widget about'>

<img class='avatar waves-image' src='/blog/avatar.jpg' />

<div class='header'>Samuel Peng</div>
<div class='content'>
<div class='desc'>This is my life. I will live it the way I like.</div>
</div>
</section>


  <section class='m_widget links'>
<div class='header'>Links</div>
<div class='content'>
    <ul class="entry">
    
        <li><a class="flat-box" target="_blank" href="http://joelsparksmusic.com/">
            <div class='name'>Joel Sparks</div>
        </a></li>
    
        <li><a class="flat-box" target="_blank" href="http://commoc.co/">
            <div class='name'>Commoc Official</div>
        </a></li>
    
    </ul>
</div>
</section>

  <section class='m_widget categories'>
<div class='header'>Categories</div>
<div class='content'>
    
    <ul class="entry">
    
        <li><a class="flat-box" href="/blog/categories/Programming/"><div class='name'>Programming</div><div class='badget'>1</div></a></li>
    
    </ul>
    
</div>
</section>

  
<div class="m_widget tagcloud">
    <div class="header">Tags</div>
    <div class='content'>
        <a href="/blog/tags/BFS/" style="font-size: 14px; color: #808080">BFS</a> <a href="/blog/tags/C/" style="font-size: 14px; color: #808080">C++</a> <a href="/blog/tags/Classic/" style="font-size: 14px; color: #808080">Classic</a> <a href="/blog/tags/Stanford/" style="font-size: 14px; color: #808080">Stanford</a>
    </div>
</div>



      </aside>
      <script>setLoadingBarProgress(60);</script>
    </div>
  </div>
  <footer id="footer" class="clearfix">

	<div class="social-wrapper">
  	
      
        <a href="https://github.com/samuel-peng" class="social github"
          target="_blank" rel="external">
          <span class="icon icon-github"></span>
        </a>
      
        <a href="https://twitter.com/samueljpeng" class="social twitter"
          target="_blank" rel="external">
          <span class="icon icon-twitter"></span>
        </a>
      
        <a href="https://facebook.com/samuel.joel.peng" class="social facebook"
          target="_blank" rel="external">
          <span class="icon icon-facebook"></span>
        </a>
      
        <a href="mailto:samuelpeng1@gmail.com" class="social mail"
          target="_blank" rel="external">
          <span class="icon icon-mail"></span>
        </a>
      
    
  </div>
  
  <div>Theme <a href='https://github.com/stkevintan/hexo-theme-material-flow' class="codename">MaterialFlow</a> designed by <a href="http://keyin.me/" target="_blank">Kevin Tan</a>.</div>
  
</footer>


  <script>setLoadingBarProgress(80);</script>
  

<script src="//apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
<script src='//cdn.bootcss.com/node-waves/0.7.5/waves.min.js'></script>
<script src="//cdn.bootcss.com/scrollReveal.js/3.3.2/scrollreveal.min.js"></script>
<script src="/blog/js/jquery.fitvids.js"></script>
<script>
	var GOOGLE_CUSTOM_SEARCH_API_KEY = "";
	var GOOGLE_CUSTOM_SEARCH_ENGINE_ID = "";
	var ALGOLIA_API_KEY = "";
	var ALGOLIA_APP_ID = "";
	var ALGOLIA_INDEX_NAME = "";
  var AZURE_SERVICE_NAME = "";
  var AZURE_INDEX_NAME = "";
  var AZURE_QUERY_KEY = "";
  var BAIDU_API_ID = "";
  var SEARCH_SERVICE = "hexo";
  var ROOT = "/blog/"||"/";
  if(!ROOT.endsWith('/'))ROOT += '/';
</script>
<script src="/blog/js/search.js"></script>
<script src="/blog/js/app.js"></script>


  <script>setLoadingBarProgress(100);</script>
</body>
</html>
